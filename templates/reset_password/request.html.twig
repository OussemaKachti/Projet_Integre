{% extends 'base.html.twig' %}

{% block title %}Reset your password
{% endblock %}

{% block body %}
	<div class="container mt-5">
		<div class="row justify-content-center">
			<div class="col-md-6">
				<h1 class="text-center mb-4">Reset your password</h1>

				{% for flash_error in app.flashes('reset_password_error') %}
					<div class="alert alert-danger" role="alert">{{ flash_error }}</div>
				{% endfor %}
				<div class="row">
					<div class="col-xxl-6 offset-xxl-3 col-xl-6 offset-xl-3 col-lg-8 offset-lg-2">

						<div class="sign__form">
							{{ form_start(requestForm, {'attr': {'class': 'needs-validation', 'novalidate': 'novalidate'}}) }}
							<div class="mb-3">
								{{ form_label(requestForm.email, 'Email Address', {'label_attr': {'class': 'form-label'}}) }}
								{{ form_widget(requestForm.email, {'attr': {'class': 'form-control', 'aria-required': 'true', 'placeholder': 'Enter your email address'}}) }}
								{% if requestForm.email.vars.errors|length > 0 %}
									<div class="invalid-feedback">
										{% for error in requestForm.email.vars.errors %}
											{{ error.message }}
										{% endfor %}
									</div>
								{% endif %}
							</div>

							<div class="mb-3">
								<small class="form-text text-muted">
									Enter your email address, and we will send you a link to reset your password.
								</small>
							</div>
							<div>
								<button type="submit" class="btn btn-primary w-100">Send password reset email</button>
								{{ form_end(requestForm) }}
							</div>
						</div>
					</div>
				</div>

				<script>
					// Example starter JavaScript for disabling form submissions if there are invalid fields
(function () {
'use strict';

// Fetch all the forms we want to apply custom Bootstrap validation styles to
var forms = document.querySelectorAll('.needs-validation');

// Loop over them and prevent submission
Array.prototype.slice.call(forms).forEach(function (form) {
form.addEventListener('submit', function (event) {
if (! form.checkValidity()) {
event.preventDefault();
event.stopPropagation();
}

form.classList.add('was-validated');
}, false);
});
})();
				</script>
			{% endblock %}
